<!DOCTYPE html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
       
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>

      body{
        overflow-x: hidden;
      }
        /* Add a black background color to the top navigation */
.topnav {
  background: linear-gradient(181deg, #d100f6, #0ff9c9);
  border-bottom: 5px solid black;
  overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  font-family: fantasy;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

/* Change the color of links on hover */
.topnav a:hover {
  background-color: #ddd;
  color: black;
}

/* Add an active class to highlight the current page */
.topnav a.active {
  background: linear-gradient(40deg, #c52306, #0f0d0f);
  color: white;
}

/* Hide the link that should open and close the topnav on small screens */
.topnav .icon {
  display: none;
}

* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
  background: linear-gradient(45deg, #580d7a, #580d7a);
  
}

/* Float four columns side by side */
.column {
  margin-top: 30px;
  float: left;
  width: 45%;
  padding: 0 10px;
}

/* Remove extra left and right margins, due to padding in columns */
.row {
    margin: 0 -5px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}
.head{
  background: linear-gradient(45deg, red, blue);
    padding: 20px;
    border-radius: 20px 20px 0 0;
    margin: -17px -18px 5px;
    color: white;
}
.heads{
  background: linear-gradient(45deg, red, blue);
    padding: 20px;
    margin: -17px -18px 5px;
    border-radius: 20px 20px 0 0;
    color: white;
}
.maincontent{
    margin: 10px 50px 50px 50px;
    border-radius: 5px;
    background: rgb(10, 8, 8);
}
.sec{
    margin: 50px 50px 0 50px;
    border-radius: 5px;
    background: #b3b0b0;
    padding: 10px; 
    border-left: 5px solid;
}
.row{
    padding-bottom: 40px;
    
}
.filter{
  border-radius: 20px 20px 0 0;
  background: linear-gradient(45deg, red, blue);
    color: white;
}

.sk{
  display: grid;
}
.maincontent{
  padding-bottom: 30px;
  border-radius: 20px;
  margin-top: 70px;
}



table {
			border-collapse: collapse;
			width: 100%;
		}
		th, td {
			text-align: left;
			padding: 8px;
			border: 1px solid black;
		}
		tr:nth-child(even) {
			background-color: #f2f2f2;
		}
		.mid{
			display: flex;
    align-items: center;
    justify-content: center;
		}
		
		h1{
			display: flex;
    align-items: center;
    justify-content: center;
		}
		

    #results {
  overflow-x: auto;
  margin-top: 20px;
  padding: 20px;
  margin: 50px;
  background-color: #F5F5F5;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}


@media screen and (max-width: 400px) {
  .maincontent{
    margin: 0;

  }
}




/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}
.filter{
    display: flex;
    align-items: center;
    justify-content: space-evenly;
    flex-wrap: wrap;
    text-align: center;
}

/* Style the counter cards */
.card {
    border: 2px solid rgb(241, 41, 6);
    border-top: 0;
  box-shadow: 0 4px 8px 0 rgba(10, 9, 10, 0.2); /* this adds the "card" effect */
  padding: 16px;
  text-align: center;
  border-radius: 20px;
  background-color: #f1f1f1;
}
.first{
    display: grid;
    text-align: left;
}

/* Responsive columns - one column layout (vertical) on small screens */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
    display: block;
    margin-bottom: 20px;
  }
}

















/* When the screen is less than 600 pixels wide, hide all links, except for the first one ("Home"). Show the link that contains should open and close the topnav (.icon) */
@media screen and (max-width: 600px) {
  .topnav a:not(:first-child) {display: none;}
  .topnav a.icon {
    float: right;
    display: block;
  }
}

/* The "responsive" class is added to the topnav with JavaScript when the user clicks on the icon. This class makes the topnav look good on small screens (display the links vertically instead of horizontally) */
@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive a.icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
}




  .spinner {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 16px solid #f3f3f3; /* Light gray */
  border-top: 16px solid #3498db; /* Blue */
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 2s linear infinite;
  display: none; /* Hide initially */
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}


    </style>
    </head>
    <body>


<div class="topnav" id="myTopnav">
  <a href="#home" class="active">Home</a>
  <a href="#news">News</a>
  <a href="#contact">Contact</a>
  <a href="#about">About</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>


<div class="quu" style="display:none;">
  <label for="query">Query:</label>
  <textarea id="query"></textarea>

</div>





    <div class="maincontent">
 
<h1 class="filter" style="padding: 40px;font-family: fantasy;">LEADS GPT</h1>

<div class="mandatory" style="font-family: fantasy;display:flex;justify-content: center;align-items: center;color: red;text-align: center;">
  <h1>* Mandatory to select TimeZone Filter *</h1>
</div>

<div class="row">
    <div class="column">
      <div class="card">
        <h4 class="heads">Basic Filters</h4>
        <form>
            <br>
            <div class="first">
            

            <div class="sk">
            
    

              
              <label for="TimeZone">Timezone:</label>
              <select id="TimeZone" class="selectpicker" multiple data-live-search="true" >
                <option value="C">Central time zone</option>
                <option value="E">Eastern time zone</option>
                <option value="H">Hawaii time zone</option>
                <option value="M">Mountain time zone</option>
                <option value="P">Pacific time zone</option>
                <!-- Add more options here -->
              </select>
              <br>

             

            

              <label for="PersonAgeCode">Age:</label>
              <select id="PersonAgeCode" class="selectpicker" multiple data-live-search="true" >
                <option value="0">Unknown</option>
                <option value="1">between 18-24</option>
                <option value="2">between 25 and 29</option>
                <option value="3">between 30 and 34 </option>


                <option value="4">between 35 and 39</option>
                <option value="5"> between 40 and 44</option>
                <option value="6">between 45 and 49</option>
                <option value="7">between 50 and 54</option>
                <option value="8">between 55 and 59</option>
                <option value="9">between 60 and 64</option>
                <option value="10">between 65 and 69</option>
                <option value="11">between 70 and 74</option>
                <option value="12">between 75 and 79</option>
                <option value="13">between 80 and 89</option>
               
                <option value="14"> 90+</option>


               
                <!-- Add more options here -->
              </select>
              <br>

              <label for="zipcode">Zip Code:</label>
              <input type="number" class="form-control" id="zipcode" placeholder="Type here">
              <br>

             
                <label for="state">State</label>
               
                <select id="state" class="selectpicker" multiple data-live-search="true" >
                  <option value="KY">Kentucky</option>
                  <option value="LA">Louisiana</option>
                  <option value="ME">Maine</option>
                  <option value="MD">Maryland</option>
                  <option value="MA">Massachusetts</option>
                  <option value="MI">Michigan</option>
                  <option value="AL">Alabama</option>
                  <option value="AK">Alaska</option>
                  <option value="AR">Arkansas</option>
                  <option value="AS">American samoa</option>
                  <option value="AZ">Arizona</option>
                  <option value="CA">California</option>
                  <option value="CO">Colorado</option>


                  <option value="CT">Connecticut   </option>
                  <option value="DE">Delaware  </option>
                  <option value="DC">District of Columbia</option>
                  <option value="FL">Florida</option>
                  <option value="GA">Georgia</option>
                  <option value="GU">Guam</option>
                  <option value="HI">Hawaii</option>
                  <option value="ID">Idaho</option>
                  <option value="IL">Illinois</option>
                  <option value="IN">Indiana</option>
                  <option value="IA">Iowa</option>
                  <option value="KS">Kansas</option>
                  <option value="MN">Minnesota</option>


                  <option value="MS">Mississippi   </option>
                  <option value="MO"> Missouri </option>
                  <option value="MT">Montana</option>
                  <option value="NE">Nebraska</option>
                  <option value="NV">Nevada</option>
                  <option value="NH">New Hampshire</option>
                  <option value="NJ">New Jersey</option>
                  <option value="NM">New Mexico</option>
                  <option value="NY">New York</option>
                  <option value="NC">North Carolina</option>
                  <option value="ND">North Dakota</option>
                  <option value="MP">Northern Mariana Islands</option>
                  <option value="OH">Ohio</option>

                  <option value="OK">Oklahoma</option>
                  <option value="OR">Oregon</option>
                  <option value="PA">Pennsylvania</option>
                  <option value="PR">Puerto Rico</option>
                  <option value="RI">Rhode Island</option>
                  <option value="SC">South Carolina</option>
                  <option value="SD">South Dakota</option>
                  <option value="TN">Tennessee</option>
                  <option value="TX">Texas</option>



                  <option value="TT">Trust Territories</option>
                  <option value="UT">Utah</option>
                  <option value="VT">Vermont</option>
                  <option value="VA">Virginia</option>
                  <option value="VI">Virgin Islands</option>
                  <option value="WA">Washington</option>
                  <option value="WV">West Virginia</option>
                  <option value="WI">Wisconsin</option>
                  <option value="WY">Wyoming</option>


                 
                 
                </select>
           
              <br>

              
              
              <label for="PersonGender">Gender:</label>
              <select id="PersonGender" class="selectpicker"  multiple data-live-search="true" >
                <option value="M">Male</option>
                <option value="F">Female</option>
              
                <!-- Add more options here -->
              </select>
      
          </div>
        
            </div>    
           
        </form>
      </div>
    </div>
   
    <div class="column">
      <div class="card" style="border: 2px solid rgb(250, 8, 250); border-top: 0;">
        <h4 class="head">Advanced Filters</h4>
        <form>
            <br>

            <div class="first">
         


            <div class="sk">
              
              <div class="container mt-4">
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                   
                    <button style="background: black;color: white;" class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#categoryInputFields" aria-expanded="false" aria-controls="categoryInputFields">
                      <i class="fa fa-arrow-down"></i>
                      <label for="cityFilter">Demographics</label>
                    </button>
                  </div>
                </div>
                <br>
              
                <div class="collapse" id="categoryInputFields">
                  <div class="input-group mt-2">
                    <label for="PersonEducation">education:</label>
                   
                    <select id="PersonEducation" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">completed high school</option>
                      <option value="B">completed college</option>
                      <option value="C">complete graduate school</option>
                      <option value="D">attended vocational/technical</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
                  <div class="input-group mt-2">
                    <label for="CreditRating">Credit Ranking</label>
                   
                    <select id="CreditRating" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">800+</option>
                      <option value="B">under 750 - 799</option>
                      <option value="C">under 700 - 749</option>
                      <option value="D">under 650 - 699</option>
                      <option value="E">under 600 - 649</option>
                      <option value="F">under 550 - 599</option>
                      <option value="G">under 500 - 549</option>
                      <option value="H">under 499</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
             <!----    <div class="input-group mt-2">
                    <label for="Community Reinvestment Act income Classification Code">Income:</label>
                   
                    <select id="Community Reinvestment Act income Classification Code" class="selectpicker" multiple data-live-search="true" >
                      <option value="1">low income</option>
                      <option value="2">moderate income</option>
                      <option value="3">middle income</option>
                      <option value="4">high income</option>
                      Add more options here 
                    </select>
                  </div>
                  <br> -->

                  <div class="input-group mt-2">
                    <label for="EstimatedIncomeCode">Estimated income:</label>
                   
              <select id="EstimatedIncomeCode" class="selectpicker" multiple data-live-search="true" >
                <option value="A">under $10,000</option>
                <option value="B">under $10,000 - $14,000</option>
                <option value="C">under $15,000 - $19,000</option>
                <option value="D">under $20,000 - $24,999</option>
                <option value="E">under $25,999 - $29,999</option>
                <option value="F">under $30,000 - $34,999</option>
                <option value="G">under $35,000 - $39,999</option>
                <option value="H">under $40,000 - $44,999</option>
                <option value="I">under $45,000 - $49,000 </option>
                <option value="J">under $55,000 - $59,000</option>
                <option value="K">under $60,000 - $64,999</option>
                <option value="L">under $65,000 - $74,000</option>
                <option value="N">under $75,000 - $99,999</option>
                <option value="O">under $100,000 - $149,999</option>
                <option value="P">under $150,000 - $174,999</option>
                <option value="Q">under $175,000 - $199,999</option>
                <option value="R">under $200,000 - $249,999</option>
                <option value="S">under $250,000 + </option>
                <option value="U">unknown </option>



              
                

             
                <!-- Add more options here -->
              </select>
                  </div>
                  <br>
                   <div class="input-group mt-2">
                    <label for="occupationgroup">Occupation group:</label>
                   
                    <select id="occupationgroup" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">professional/technician</option>
                      <option value="B">administration / managerial</option>
                      <option value="C">sales/service</option>
                      <option value="D">clerial/white collar</option>
                      <option value="F">student</option>
                      <option value="H">retired</option>
                      <option value="I">farmer</option>
                      <option value="J">military</option>
                      <option value="Z">other</option>



                      <option value="E">Craftsman / Blue Collar</option>
                      <option value="G">Homemaker</option>
                      <option value="K">Religious</option>
                      <option value="L">Self Employed</option>
                      <option value="M">Self Employed - Professional / Technical</option>
                      <option value="N">Self Employed - Administration / Managerial</option>
                      <option value="P">Self Employed - Clerical / White Collar</option>
                      <option value="Q">Self Employed - Craftsman / Blue Collar</option>
                     


                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
                  <div class="input-group mt-2">
                    <label for="NetWorth">NetWorth:</label>
                   
                    <select id="NetWorth" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">Less than $1</option>
                      <option value="B">$1 - $4,999</option>
                      <option value="C">$5,000 - $9,999</option>
                      <option value="D">$10,000 - $24,999</option>
                      <option value="E">$25,000 - $49,999</option>
                      <option value="F">$50,000 - $99,999</option>
                      <option value="G">$100,000 - $249,999</option>
                      <option value="H">$250,000 - $499,999</option>
                      <option value="I">Greater than $499,999</option>

       
                    </select>
                  </div>
                  <br> 

                  <div class="input-group mt-2">
                    <label for="RefinanceLoanType">Refinance Loan Type:</label>
                   
                    <select id="RefinanceLoanType" class="selectpicker" multiple data-live-search="true" >
                     
                      <option value="C">conventional</option>
                      <option value="F">fha</option>
                      <option value="P">private party lender</option>
                      <option value="S">small business administration</option>
                      <option value="U">unknown</option>
                      <option value="V">va</option>
                      <option value="W">wrap around mortage</option>
                      <option value="A">adjustable</option>
                      <option value="B">balloon</option>
                      <option value="F">fixed</option>

                     
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

                  <div class="input-group mt-2">
                    <label for="ethniccode">Ethnic code:</label>
                   
                    <select id="ethniccode" class="selectpicker" multiple data-live-search="true" >
                      <option value="C1">afhgan</option>
                      <option value="C2">bangladesh</option>
                      <option value="C3">indian</option>
                      <option value="C4">pakistani</option>
                      <option value="C6">nepalese</option>
                      <option value="C7">telugan</option>
                      <option value="D0">algerian</option>
                      <option value="D3">egyptian</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>


              

              

                 <div class="input-group mt-2">
                    <label for="Water">Water:</label>
                   
                    <select id="Water" class="selectpicker" multiple data-live-search="true" >
                      <option value="0">Unknown</option>
                      <option value="1">Water- commercial</option>
                      <option value="2">Water - private</option>
                      <option value="3">Water - public</option>
                      <option value="4">Water - well</option>
                    
                      
                    </select>
                  </div>
                  <br>

              <!----   <div class="input-group mt-2">
                    <label for="cityFilter">Bank cards:</label>
                   
                    <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                      <option value="India">presence of credit card</option>
                      <option value="New York">presence of gold or credit card</option>
                      <option value="Africa">presence of platinum credit card</option>
                      <option value="Africa">presence of upscale credit card</option>
                      <option value="Africa">presence of bank card</option>
                      
               
                    </select>
                  </div>
                  <br>-->

                  <div class="input-group mt-2">
                    <label for="LengthofResidenceCode">Length of residence:</label>
                   
                    <select id="LengthofResidenceCode" class="selectpicker" multiple data-live-search="true" >
                      <option value="0">under one year</option>
                      <option value="1">1 years</option>
                      <option value="2">2 years</option>
                      <option value="3">3 years</option>
                      <option value="4">4 years</option>
                      <option value="5">5 years</option>
                      <option value="6">6 years</option>
                      <option value="7">7 years</option>
                      <option value="8">8 years</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

                  <div class="input-group mt-2">
                    <label for="HomeownerProbabilityModel">Home owner /rental:</label>
                   
                    <select id="HomeownerProbabilityModel" class="selectpicker" multiple data-live-search="true" >
                    
                      <option value="H">homeowners</option>
                      <option value="R">renters</option>
                      
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

                  <div class="input-group mt-2">
                    <label for="HomePurchasePriceCode">Home Purchase Price</label>
                   
                    <select id="HomePurchasePriceCode" class="selectpicker" multiple data-live-search="true" >
                      <option value="1">home purchase price under $75k</option>
                      <option value="2">home purchase price  $76k - $125</option>
                      <option value="3">home purchase price  $126k - $175</option>
                      <option value="4">home purchase price $176k - $250k</option>
                      <option value="5">home purchase price  $251k - $750k</option>
                      <option value="6">home purchase price  $751k - $999k</option>
                      
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>



                  <div class="input-group mt-2">
                    <label for="HomeHeatIndicator">Home Heat Indicator</label>
                   
                    <select id="HomeHeatIndicator" class="selectpicker" multiple data-live-search="true" >
                      <option value="E">Electric</option>
                      <option value="G">Gas</option>
                      <option value="O">Oil</option>
                      <option value="P">Gas public/pipped</option>
                      <option value="U">Unknown</option>
                   
                      
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

















                  <div class="input-group mt-2">
                    <label for="MostRecentMortgage2ndInterestRateType"> mortage 2nd interest rate</label>
                   
                    <select id="MostRecentMortgage2ndInterestRateType" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">adjustable</option>
                      <option value="B">balloon</option>
                      <option value="F">fixed</option>
                     
                      <option value="C">conventional</option>
                      <option value="F">fha</option>
                      <option value="P">private party lender</option>
                      <option value="S">small business administratation</option>
                      <option value="V">va</option>
                      <option value="W">wrap around mortgage</option>
                      


                      
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
                 
                 

              <!----    <div class="input group mt-2">
                    <label for="inputField">Home build year:</label>
                    <input style="width:fit-content;" type="number" class="form-control" id="inputField" placeholder="Type here">
                    </div>
                    <br>-->

                    <div class="input-group mt-2">
                      <label for="EstimatedCurrentHomeValueCode">current home value:</label>
                     
                      <select id="EstimatedCurrentHomeValueCode" class="selectpicker" multiple data-live-search="true" >
                        <option value="A">$1000 to $24,000</option>
                        <option value="B">$40,000 to $74,000</option>
                        <option value="C">$90,000 to $104,000</option>
                        <option value="D">$110,000 to $150,000</option>
                        <option value="G">$150,000 - $174,999  </option>

                        <option value="H">$175,000 - $199,999  </option>
                        <option value="I">$200,000 - $224,999</option>
                        <option value="J">$225,000 - $249,999 </option>
                        <option value="K"> $250,000 - $274,999 </option>
                        <option value="L">$275,000 - $299,999</option>

                        <option value="M">$300,000 - $349,999 </option>
                        <option value="N"> $350,000 - $399,999</option>
                        <option value="O">$400,000 - $449,999  </option>
                        <option value="P">$450,000 - $499,999  </option>
                        <option value="Q">$500,000 - $749,999</option>

                        <option value="R">$750,000 - $999,999  </option>
                        <option value="S">$1,000,000 Plus  </option>
                        



                      
                        <!-- Add more options here -->
                      </select>
                    </div>
                    <br>

               <!----     <div class="input-group mt-2">
                      <label for="selectOption">Homeswimimg pool:</label>
                      <select id="selectOption" class="form-control">
                        <option value="option1">swimming pool present</option>
                        <option value="option2">no swimming pool present</option>
                
                      </select>
                    </div>
                    <br>-->

                    <div class="input-group mt-2">
                      <label for="PoliticalContributor">Political contributor:</label>
                     
                      <select id="PoliticalContributor" class="selectpicker" multiple data-live-search="true" >
                        <option value="D">democratic contributor</option>
                        <option value="R">replublic contributor</option>
                        <option value="P">political contributor</option>
                        <option value="U">unknown</option>
                      
                        <!-- Add more options here -->
                      </select>
                    </div>
                    <br>


                  
                  <!-- Add more input fields as needed -->
                </div>
              </div>

          </div>



          <div class="container mt-4">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
               
                <button style="background: black;color: white;"   class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#categorynputFields" aria-expanded="false" aria-controls="categoryInputFields">
                  <i class="fa fa-arrow-down"></i>
                  <label for="cityFilter">Interest</label>
                </button>
              </div>
            </div>
            <br>
          
            <div class="collapse" id="categorynputFields">
              <div class="input-group mt-2">
                <label for="numberofchildren">Number of children:</label>
               
                <select id="numberofchildren" class="selectpicker" multiple data-live-search="true" >
                  <option value="0">no children</option>
                  <option value="1">1 children</option>
                  <option value="2">2 children</option>
                  <option value="3">3 children</option>
                  <option value="4">4 children</option>
                  <option value="5">5 children</option>
                  <option value="6">6 children</option>
                  <option value="7">7 children</option>
                  <option value="8">more than 8 children</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
              <div class="input-group mt-2">
                <label for="NumberOfAdults">Number of adults</label>
               
                <select id="NumberOfAdults" class="selectpicker" multiple data-live-search="true" >
                  <option value="1">1 adults</option>
                  <option value="2"> 2 adults</option>
                  <option value="3">3 adults</option>
                  <option value="4">4 adults</option>
                  <option value="5">5 adults</option>
                  <option value="6">6+ adults</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="AirConditioning">AirConditioning:</label>
                
                <select id="AirConditioning" class="selectpicker" multiple data-live-search="true" >
                  <option value="A">ac.central</option>
                  <option value="B">ac.central & unit</option>
                  <option value="C">ac.dual unit</option>
                  <option value="D">ac.evoporative</option>
                  <option value="E">ac.heat pump</option>
                  <option value="F">ac.refrigirator</option>
                  <option value="G">ac.package</option>
                  <option value="H">ac.separate system</option>
                  <option value="I">ac.split system</option>
                  <option value="J">ac.wall unit</option>
                  <option value="K">ac.window unit</option>
                  <option value="L">ac.wall/window unit</option>
                  <option value="U">unknown</option>

                  <!-- Add more options here -->
                </select>
              </div>
              <br>





              <div class="input-group mt-2">
                <label for="PersonMaritalStatus">Martial status:</label>
                
                <select id="PersonMaritalStatus" class="selectpicker" multiple data-live-search="true" >
                  <option value="M">married</option>
                  <option value="S">single</option>
                  <option value="A">inferred married</option>
                  <option value="B">inferred single</option>
                  <option value="U">unknown</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
              <div class="input-group mt-2">
                <label for="dwellingType">Dwelling type:</label>
               
                <select id="dwellingType" class="selectpicker" multiple data-live-search="true" >
                  <option value="M">multi family dwelling unit</option>
                  <option value="S">single family dwelling unit</option>
                  <option value="U">unknown</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>


              <div class="input-group mt-2">
                <label for="BookBuyer">BookBuyer:</label>
               
                <select id="BookBuyer" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>








              <div class="input-group mt-2">
                <label for="ExerciseAerobic">ExerciseAerobic:</label>
               
                <select id="ExerciseAerobic" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <option value="U">Unknown</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="ExerciseEnthusiast">ExerciseEnthusiast:</label>
               
                <select id="ExerciseEnthusiast" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <option value="U">Unknown</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>


              <div class="input-group mt-2">
                <label for="ExerciseHealthGrouping">ExerciseHealthGrouping:</label>
               
                <select id="ExerciseHealthGrouping" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <option value="U">Unknown</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="ExerciseRunningJogging">ExerciseRunningJogging:</label>
               
                <select id="ExerciseRunningJogging" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <option value="U">Unknown</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="ExerciseWalking">ExerciseWalking:</label>
               
                <select id="ExerciseWalking" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <option value="U">Unknown</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>






























              <div class="input-group mt-2">
                <label for="BookReader">BookReader:</label>
               
                <select id="BookReader" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

























              <div class="input-group mt-2">
                <label for="Pets">Pets:</label>
               
                <select id="Pets" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">pets</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
              <div class="input-group mt-2">
                <label for="NumberOfPersonsInLivingUnit">Number of persons:</label>
               
          <select id="NumberOfPersonsInLivingUnit" class="selectpicker" multiple data-live-search="true" >
            <option value="1">1 person</option>
            <option value="2">2 persons</option>
            <option value="4">4 persons</option>
            <option value="5">5 persons</option>

            <option value="6">6 person</option>
            <option value="7">7 persons</option>
            <option value="8">8 persons</option>
            <option value="9">9+ persons</option>
            <!-- Add more options here -->
          </select>
              </div>
              <!-- Add more input fields as needed -->
            </div>
          </div>

          <div class="container mt-4">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
               
                <button style="background: black;color: white;"  class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#cagorynputFields" aria-expanded="false" aria-controls="categoryInputFields">
                  <i class="fa fa-arrow-down"></i>
                  <label for="cityFilter">Behaviour</label>
                </button>
              </div>
            </div>
            <br>
          
           <div class="collapse" id="cagorynputFields">
            <!---- <div class="input-group mt-2">
                <label for="cityFilter">digital activities:</label>
               
                <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                  <option value="India">computer owner</option>
                  <option value="New York">electronic/computers gaming</option>
                 
                 
                </select>
              </div>
              <br>-->
              <div class="input-group mt-2">
                <label for="Gaming">Games</label>
               
                <select id="Gaming" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
        
                  <!-- Add more options here -->
                </select>
              </div>
              <br>








              <div class="input-group mt-2">
                <label for="GamesBoardGamesPuzzles">GamesBoardGamesPuzzles</label>
               
                <select id="GamesBoardGamesPuzzles" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
        
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="GamesComputerGames">GamesComputerGames</label>
               
                <select id="GamesComputerGames" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
        
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="GamesVideoGames">GamesVideoGames</label>
               
                <select id="GamesVideoGames" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
        
                  <!-- Add more options here -->
                </select>
              </div>
              <br>


























           <!----   <div class="input-group mt-2">
                <label for="cityFilter">Donations:</label>
               
                <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                  <option value="India">animal welfare charitable donations</option>
                  <option value="New York">arts/culture welfare charitable donations</option>
                  <option value="Africa">children charitable donations</option>
                  <option value="Africa">enviromental issues charitable donations</option>
                  <option value="New York">international aids charitable donations</option>
                  <option value="Africa">political charitable donations</option>
                  <option value="Africa">veteran's charitable donations</option>
                 
                </select>
              </div>
              <br>-->
          
    
             
            
              <!-- Add more input fields as needed -->
            </div>
          </div>
    
          <div class="container mt-4">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
               
                <button style="background: black;color: white;"   class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#gorynputFields" aria-expanded="false" aria-controls="categoryInputFields">
                  <i class="fa fa-arrow-down"></i>
                  <label for="religioncode">Religion</label>
                </button>
              </div>
            </div>
            <br>
          
            <div class="collapse" id="gorynputFields">
              <div class="input-group mt-2">
                <label for="religioncode">religion:</label>
               
          <select id="religioncode" class="selectpicker" multiple data-live-search="true" >
            <option value="H">hindu</option>
            <option value="B">buddiast</option>
            <option value="A">catholic</option>
            <option value="G">greek orthodox</option>
            <option value="I">islamic</option>
            <option value="J">jewish</option>
            <option value="S">siku</option>
            <option value="L">lutheran</option>
            <!-- Add more options here -->
          </select>
              </div>
              <br>
             
              <br>
              <div class="input-group mt-2">
                <label for="ReligiousMagazine">Religious magazine:</label>
               
                <select id="ReligiousMagazine" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="ReligiousContributor">Religious Contributor:</label>
               
                <select id="ReligiousContributor" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
          
        
             
            
              <!-- Add more input fields as needed -->
            </div>
          </div>

      </div>

<br>


      <div class="s">
        <label for="limit">Limit:</label>
        <input type="number" id="limit" name="limit" value="10" min="1" max="100">
        <button type="button" onclick="increaseLimit()">+</button>
        <button type="button" onclick="decreaseLimit()">-</button>
        </div>
    </div>
          
              
    

  </div>



 

  <button style="display: flex; align-items: center; justify-content: center;padding: 10px 30px 10px 30px; font-size: 30px;margin: 50px;background: linear-gradient(45deg, #2212de, red);border: none;color: white; border-radius: 5px;" type="button" onclick="runQuery()">Run Query</button>
  
  <br>
  
  <div id="spinner" class="spinner">
  </div>
 
    
  
    
  
     
        </form>
      

      </div>
    </div>
  </div>
 
  </div>

  <div id="results"></div>

  <div class="laast" style="display:flex;align-items:center;justify-content: center;">
    <button style="display: flex; align-items: center; justify-content: center;padding: 10px 30px 10px 30px; font-size: 30px;margin: 50px;background: linear-gradient(45deg, #2212de, red);border: none;color: white; border-radius: 5px;" type="button"  id="downloadButton" >Download Results</button>
  </div>

 



<script>
    /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
</script>

<script src="https://sdk.amazonaws.com/js/aws-sdk-2.996.0.min.js"></script>
	<script>
      function increaseLimit() {
    var limitField = document.getElementById('limit');
    limitField.value = parseInt(limitField.value) + 1;
}

function decreaseLimit() {
    var limitField = document.getElementById('limit');
    limitField.value = parseInt(limitField.value) - 1;
    if (limitField.value < 1) {
        limitField.value = 1;
    }
}
		
	




  function runQuery() {
   // Retrieve selected values from the DOM
   var spinner = document.getElementById('spinner');
    // Retrieve selected values from the DOM
    var selectedTimezones = Array.from(document.getElementById('TimeZone').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedBookbuyer = Array.from(document.getElementById('BookBuyer').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedBookreader = Array.from(document.getElementById('BookReader').options)
    .filter(option => option.selected)
    .map(option => option.value);








    var selectedExerciseenthauiast = Array.from(document.getElementById('ExerciseEnthusiast').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedExercisewalking = Array.from(document.getElementById('ExerciseWalking').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedExerciserunning = Array.from(document.getElementById('ExerciseRunningJogging').options)
    .filter(option => option.selected)
    .map(option => option.value);


    var selectedExercisehealthgrouping = Array.from(document.getElementById('ExerciseHealthGrouping').options)
    .filter(option => option.selected)
    .map(option => option.value);


    var selectedHomeheatindicator = Array.from(document.getElementById('HomeHeatIndicator').options)
    .filter(option => option.selected)
    .map(option => option.value);







    

    var selectedGamesvidegames = Array.from(document.getElementById('GamesVideoGames').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedGamescomputergames = Array.from(document.getElementById('GamesComputerGames').options)
    .filter(option => option.selected)
    .map(option => option.value);


    var selectedGamesboardgamespuzzles = Array.from(document.getElementById('GamesBoardGamesPuzzles').options)
    .filter(option => option.selected)
    .map(option => option.value);






    












    var selectedState = Array.from(document.getElementById('state').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedReligiousContributor = Array.from(document.getElementById('ReligiousContributor').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedWater = Array.from(document.getElementById('Water').options)
    .filter(option => option.selected)
    .map(option => option.value);


    var selectedNetWorth = Array.from(document.getElementById('NetWorth').options)
    .filter(option => option.selected)
    .map(option => option.value);

    var selectedAircondition = Array.from(document.getElementById('AirConditioning').options)
    .filter(option => option.selected)
    .map(option => option.value);


    var selectedMostrecentmortgage = Array.from(document.getElementById('MostRecentMortgage2ndInterestRateType').options)
    .filter(option => option.selected)
    .map(option => option.value);




  var selectedAges = Array.from(document.getElementById('PersonAgeCode').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedGenders = Array.from(document.getElementById('PersonGender').options)
    .filter(option => option.selected)
    .map(option => option.value);


  var selectedPersoneducation = Array.from(document.getElementById('PersonEducation').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedEstimatedcurrenthomevalue = Array.from(document.getElementById('EstimatedCurrentHomeValueCode').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedCreditrating = Array.from(document.getElementById('CreditRating').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedEstimatedincomecode = Array.from(document.getElementById('EstimatedIncomeCode').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedOccupationalgroup = Array.from(document.getElementById('occupationgroup').options)
    .filter(option => option.selected)
    .map(option => option.value);

 // var selectedEthnicgroup = Array.from(document.getElementById('ethnicgroup').options)
  //  .filter(option => option.selected)
  //  .map(option => option.value);

  var selectedEthniccode = Array.from(document.getElementById('ethniccode').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedLengthofresidencecode = Array.from(document.getElementById('LengthofResidenceCode').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedHomeownerprobabilitymodel = Array.from(document.getElementById('HomeownerProbabilityModel').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedHomepurchasepricecode = Array.from(document.getElementById('HomePurchasePriceCode').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedPoliticalcontributior = Array.from(document.getElementById('PoliticalContributor').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedNumberofchildren = Array.from(document.getElementById('numberofchildren').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedNumberofadults = Array.from(document.getElementById('NumberOfAdults').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedPersonmartialstatus = Array.from(document.getElementById('PersonMaritalStatus').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedDwellingtype = Array.from(document.getElementById('dwellingType').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedPets = Array.from(document.getElementById('Pets').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedNumberofpersoninlivingunit = Array.from(document.getElementById('NumberOfPersonsInLivingUnit').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedGaming = Array.from(document.getElementById('Gaming').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedReligioncode = Array.from(document.getElementById('religioncode').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedRefinanceLoanType = Array.from(document.getElementById('RefinanceLoanType').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedReligiousmagazine = Array.from(document.getElementById('ReligiousMagazine').options)
    .filter(option => option.selected)
    .map(option => option.value);

  var selectedZipcode = document.getElementById('zipcode').value;

  var limit = document.getElementById('limit').value;

  var columns = ['PersonAgeCode','HomeHeatIndicator' , 'GamesComputerGames',  'GamesBoardGamesPuzzles' ,  'GamesVideoGames'   ,     'state','ExerciseWalking', 'ExerciseHealthGrouping', 'ExerciseRunningJogging', 'ExerciseEnthusiast',   'BookBuyer', 'BookReader',   'AirConditioning' ,  'MostRecentMortgage2ndInterestRateType' ,      'Water' ,'NetWorth',  'ReligiousContributor', 'RefinanceLoanType', 'zipcode', 'ReligiousMagazine', 'religioncode', 'Gaming', 'PersonMaritalStatus', 'NumberOfPersonsInLivingUnit', 'Pets', 'dwellingType', 'NumberOfAdults', 'numberofchildren', 'PersonGender', 'PoliticalContributor', 'HomePurchasePriceCode', 'HomeownerProbabilityModel', 'LengthofResidenceCode', 'ethniccode', 'TimeZone', 'PersonEducation', 'EstimatedCurrentHomeValueCode', 'CreditRating', 'EstimatedIncomeCode', 'occupationgroup'];

  
  var query = `
    SELECT *
    FROM "smallcons"."consumersmall2"
    WHERE 
  `;

  // Check if each category has selected options and include them in the query
  if (selectedTimezones.length > 0) {
    query += `  TimeZone IN ('${selectedTimezones.join("','")}')`;
  }
  if (selectedPersoneducation.length > 0) {
    query += ` AND PersonEducation IN ('${selectedPersoneducation.join("','")}')`;
  }
  if (selectedReligiousContributor.length > 0) {
    query += ` AND ReligiousContributor IN ('${selectedReligiousContributor.join("','")}')`;
  }
  if (selectedNetWorth.length > 0) {
    query += ` AND NetWorth IN ('${selectedNetWorth.join("','")}')`;
  }
  if (selectedAircondition.length > 0) {
    query += ` AND AirConditioning IN ('${selectedAircondition.join("','")}')`;
  }




  if (selectedGamesboardgamespuzzles.length > 0) {
    query += ` AND GamesBoardGamesPuzzles IN ('${selectedGamesboardgamespuzzles.join("','")}')`;
  }
  if (selectedGamescomputergames.length > 0) {
    query += ` AND GamesComputerGames IN ('${selectedGamescomputergames.join("','")}')`;
  }
  if (selectedGamesvidegames.length > 0) {
    query += ` AND GamesVideoGames IN ('${selectedGamesvidegames.join("','")}')`;
  }
 
  if (selectedHomeheatindicator.length > 0) {
    query += ` AND HomeHeatIndicator IN ('${selectedHomeheatindicator.join("','")}')`;
  }
 














  if (selectedExerciseenthauiast.length > 0) {
    query += ` AND ExerciseEnthusiast IN ('${selectedExerciseenthauiast.join("','")}')`;
  }
  if (selectedExercisehealthgrouping.length > 0) {
    query += ` AND ExerciseHealthGrouping IN ('${selectedExercisehealthgrouping.join("','")}')`;
  }
  if (selectedExerciserunning.length > 0) {
    query += ` AND ExerciseRunningJogging IN ('${selectedExerciserunning.join("','")}')`;
  }
  if (selectedExercisewalking.length > 0) {
    query += ` AND ExerciseWalking IN ('${selectedExercisewalking.join("','")}')`;
  }















  if (selectedBookbuyer.length > 0) {
    query += ` AND BookBuyer IN ('${selectedBookbuyer.join("','")}')`;
  }
  if (selectedBookreader.length > 0) {
    query += ` AND BookReader IN ('${selectedBookreader.join("','")}')`;
  }










  if (selectedMostrecentmortgage.length > 0) {
    query += ` AND MostRecentMortgage2ndInterestRateType IN ('${selectedMostrecentmortgage.join("','")}')`;
  }
  if (selectedState.length > 0) {
    query += ` AND state IN ('${selectedState.join("','")}')`;
  }
  if (selectedAges.length > 0) {
    query += ` AND PersonAgeCode IN (${selectedAges.join(',')})`;
  }
  if (selectedWater.length > 0) {
    query += ` AND Water IN (${selectedWater.join(',')})`;
  }
  if (selectedGenders.length > 0) {
    query += ` AND PersonGender IN  ('${selectedGenders.join("','")}')`;
  }
  if (selectedPersoneducation.length > 0) {
    query += ` AND PersonEducation IN ('${selectedPersoneducation.join("','")}')`;
  }

  // Add more if statements for other categories...


  if (selectedCreditrating.length > 0) {
    query += `  AND CreditRating IN ('${selectedCreditrating.join(',')}')`;
  }
  if (selectedDwellingtype.length > 0) {
    query += ` AND dwellingType IN ('${selectedDwellingtype.join("','")}')`;
  }
  if (selectedEstimatedcurrenthomevalue.length > 0) {
    query += ` AND EstimatedCurrentHomeValueCode IN ('${selectedEstimatedcurrenthomevalue.join("','")}')`;
  }
  if (selectedEstimatedincomecode.length > 0) {
    query += ` AND EstimatedIncomeCode IN ('${selectedEstimatedincomecode.join("','")}')`;
  }
  if (selectedEthniccode.length > 0) {
    query += ` AND ethniccode IN ('${selectedEthniccode.join(',')}') `;
  }
// if (selectedEthnicgroup.length > 0) {
 //   query += ` AND ethnicgroup IN ('${selectedEthnicgroup.join("','")}') `;
//  }
  if (selectedGaming.length > 0) {
    query += ` AND Gaming IN ('${selectedGaming.join("','")}')`;
  }
  if (selectedHomeownerprobabilitymodel.length > 0) {
    query += ` AND HomeownerProbabilityModel IN ('${selectedHomeownerprobabilitymodel.join("','")}') `;
  }
  if (selectedHomepurchasepricecode.length > 0) {
    query += `  AND HomePurchasePriceCode IN (${selectedHomepurchasepricecode.join(',')}) `;
  }
  if (selectedNumberofadults.length > 0) {
    query += ` AND NumberOfAdults IN ('${selectedNumberofadults.join(',')}') `;
  }
 
  if (selectedNumberofchildren.length > 0) {
    query += `  AND numberofchildren IN ('${selectedNumberofchildren.join(',')}') `;
  }
  if (selectedNumberofpersoninlivingunit.length > 0) {
    query += ` AND NumberOfPersonsInLivingUnit IN (${selectedNumberofpersoninlivingunit.join(',')}) `;
  }
  if (selectedOccupationalgroup.length > 0) {
    query += `  AND occupationgroup IN ('${selectedOccupationalgroup.join("','")}') `;
  }
  if (selectedPersonmartialstatus.length > 0) {
    query += `  AND PersonMaritalStatus IN ('${selectedPersonmartialstatus.join("','")}') `;
  }
  if (selectedPets.length > 0) {
    query += ` AND Pets IN ('${selectedPets.join("','")}') `;
  }

  if (selectedPoliticalcontributior.length > 0) {
    query += `  AND PoliticalContributor IN ('${selectedPoliticalcontributior.join("','")}') `;
  }
  if (selectedReligioncode.length > 0) {
    query += ` AND religioncode IN ('${selectedReligioncode.join(',')}') `;
  }
  if (selectedReligiousmagazine.length > 0) {
    query += ` AND ReligiousMagazine IN ('${selectedReligiousmagazine.join("','")}') `;
  }
  if (selectedRefinanceLoanType.length > 0) {
    query += ` AND RefinanceLoanType  IN ('${selectedRefinanceLoanType.join("','")}') `;
  }
  if (selectedZipcode.length > 0) {
    query += ` AND zipcode = ${selectedZipcode} `;
  }
 



  query += `  LIMIT ${limit};`;

  document.getElementById('query').value = query;

  // Rest of the code for executing the query...


  // Set up AWS credentials
  AWS.config.region = 'us-east-1';
		AWS.config.credentials = new AWS.Credentials('AKIAQ6FXL22LTJRLMI4C', 'T2luxgWfcGvnHB/EizBGFBeRlgJIUQU3tCluwVew');

  var params = {
    QueryString: query,
    ResultConfiguration: {
      OutputLocation: 's3://consumer-athena/query-output/'
    }
  };
























            var athena = new AWS.Athena();
            runQuery.disabled = true;
            spinner.style.display = 'block';

            athena.startQueryExecution(params, function(err, data) {
                if (err) {
                    console.log(err, err.stack);
                } else {
                    checkQueryStatus(data.QueryExecutionId);
                }
            });
        }

        function checkQueryStatus(queryId) {
            var athena = new AWS.Athena();

            athena.getQueryExecution({ QueryExecutionId: queryId }, function(err, data) {
                if (err) {
                    console.log(err, err.stack);
                } else {
                    var status = data.QueryExecution.Status.State;
                    if (status == 'QUEUED' || status == 'RUNNING') {
                        setTimeout(function() { checkQueryStatus(queryId); }, 5000);
                    } else if (status == 'SUCCEEDED') {
                        getQueryResults(queryId);
                    } else {
                        console.log('Query failed: ' + data.QueryExecution.Status.StateChangeReason);
                    }
                }
            });
        }

        function getQueryResults(queryId) {
        var athena = new AWS.Athena();

        athena.getQueryResults({ QueryExecutionId: queryId }, function(err, data) {
            if (err) {
                console.log(err, err.stack);
            } else {
                var results = document.getElementById('results');
                results.innerHTML = '';
                var downloadButton = document.getElementById('downloadButton');
                downloadButton.style.display = 'none';
                spinner.style.display = 'none';
                runQuery.disabled = false;

                if (data.ResultSet.Rows.length == 0) {
                    results.innerHTML = '<p>No results found.</p>';
                    return;
                }

                var table = document.createElement('table');

                // Create table header row
                var headerRow = document.createElement('tr');
                data.ResultSet.ResultSetMetadata.ColumnInfo.forEach(function(column) {
                    var headerCell = document.createElement('th');
                    headerCell.appendChild(document.createTextNode(column.Name));
                    headerRow.appendChild(headerCell);
                });
                table.appendChild(headerRow);

                // Create table data rows
                data.ResultSet.Rows.forEach(function(row) {
                    var dataRow = document.createElement('tr');
                    row.Data.forEach(function(cell) {
                        var dataCell = document.createElement('td');
                        dataCell.appendChild(document.createTextNode(cell.VarCharValue));
                        dataRow.appendChild(dataCell);
                    });
                    table.appendChild(dataRow);
                });

                results.appendChild(table);

                // Show the download button
                downloadButton.style.display = 'block';
                downloadButton.addEventListener('click', function() {
                    downloadResults(data.ResultSet);
                });
            }
        });
    }

    function downloadResults(resultSet) {
        var csvContent = convertToCSV(resultSet);
        var encodedUri = encodeURI('data:text/csv;charset=utf-8,' + csvContent);
        var link = document.createElement('a');
        link.setAttribute('href', encodedUri);
        link.setAttribute('download', 'results.csv');
        link.style.display = 'none';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    }

    function convertToCSV(resultSet) {
        var rows = resultSet.Rows;
        var csvContent = '';

        // Extract column names
        var columnNames = rows[0].Data.map(function(cell) {
            return cell.VarCharValue;
        });
        csvContent += columnNames.join(',') + '\n';

        // Extract data rows
        for (var i = 1; i < rows.length; i++) {
            var rowData = rows[i].Data.map(function(cell) {
                return cell.VarCharValue;
            });
            csvContent += rowData.join(',') + '\n';
        }

        return csvContent;
    }

</script>
    </body>
</html>