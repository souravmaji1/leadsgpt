<!DOCTYPE html>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
       
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        /* Add a black background color to the top navigation */
.topnav {
  background: linear-gradient(181deg, #d100f6, #0ff9c9);
  border-bottom: 5px solid black;
  overflow: hidden;
}

/* Style the links inside the navigation bar */
.topnav a {
  float: left;
  font-family: fantasy;
  display: block;
  color: #f2f2f2;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
  font-size: 17px;
}

/* Change the color of links on hover */
.topnav a:hover {
  background-color: #ddd;
  color: black;
}

/* Add an active class to highlight the current page */
.topnav a.active {
  background: linear-gradient(40deg, #c52306, #0f0d0f);
  color: white;
}

/* Hide the link that should open and close the topnav on small screens */
.topnav .icon {
  display: none;
}

* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
  background: linear-gradient(45deg, #580d7a, #580d7a);
  
}

/* Float four columns side by side */
.column {
  margin-top: 30px;
  float: left;
  width: 45%;
  padding: 0 10px;
}

/* Remove extra left and right margins, due to padding in columns */
.row {
    margin: 0 -5px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
}
.head{
  background: linear-gradient(45deg, red, blue);
    padding: 20px;
    border-radius: 20px 20px 0 0;
    margin: -17px -18px 5px;
    color: white;
}
.heads{
  background: linear-gradient(45deg, red, blue);
    padding: 20px;
    margin: -17px -18px 5px;
    border-radius: 20px 20px 0 0;
    color: white;
}
.maincontent{
    margin: 10px 50px 50px 50px;
    border-radius: 5px;
    background: rgb(10, 8, 8);
}
.sec{
    margin: 50px 50px 0 50px;
    border-radius: 5px;
    background: #b3b0b0;
    padding: 10px; 
    border-left: 5px solid;
}
.row{
    padding-bottom: 40px;
    
}
.filter{
  border-radius: 20px 20px 0 0;
  background: linear-gradient(45deg, red, blue);
    color: white;
}

.sk{
  display: grid;
}
.maincontent{
  padding-bottom: 30px;
  border-radius: 20px;
  margin-top: 70px;
}



table {
			border-collapse: collapse;
			width: 100%;
		}
		th, td {
			text-align: left;
			padding: 8px;
			border: 1px solid black;
		}
		tr:nth-child(even) {
			background-color: #f2f2f2;
		}
		.mid{
			display: flex;
    align-items: center;
    justify-content: center;
		}
		
		h1{
			display: flex;
    align-items: center;
    justify-content: center;
		}
		

    #results {
  overflow-x: auto;
  margin-top: 20px;
  padding: 20px;
  margin: 50px;
  background-color: #F5F5F5;
  border-radius: 10px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
}


@media screen and (max-width: 400px) {
  .maincontent{
    margin: 0;

  }
}




/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}
.filter{
    display: flex;
    align-items: center;
    justify-content: space-evenly;
    flex-wrap: wrap;
    text-align: center;
}

/* Style the counter cards */
.card {
    border: 2px solid rgb(241, 41, 6);
    border-top: 0;
  box-shadow: 0 4px 8px 0 rgba(10, 9, 10, 0.2); /* this adds the "card" effect */
  padding: 16px;
  text-align: center;
  border-radius: 20px;
  background-color: #f1f1f1;
}
.first{
    display: grid;
    text-align: left;
}

/* Responsive columns - one column layout (vertical) on small screens */
@media screen and (max-width: 600px) {
  .column {
    width: 100%;
    display: block;
    margin-bottom: 20px;
  }
}

















/* When the screen is less than 600 pixels wide, hide all links, except for the first one ("Home"). Show the link that contains should open and close the topnav (.icon) */
@media screen and (max-width: 600px) {
  .topnav a:not(:first-child) {display: none;}
  .topnav a.icon {
    float: right;
    display: block;
  }
}

/* The "responsive" class is added to the topnav with JavaScript when the user clicks on the icon. This class makes the topnav look good on small screens (display the links vertically instead of horizontally) */
@media screen and (max-width: 600px) {
  .topnav.responsive {position: relative;}
  .topnav.responsive a.icon {
    position: absolute;
    right: 0;
    top: 0;
  }
  .topnav.responsive a {
    float: none;
    display: block;
    text-align: left;
  }
}
    </style>
    </head>
    <body>


<div class="topnav" id="myTopnav">
  <a href="#home" class="active">Home</a>
  <a href="#news">News</a>
  <a href="#contact">Contact</a>
  <a href="#about">About</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>


<div class="quu" style="display:none;">
  <label for="query">Query:</label>
  <textarea id="query"></textarea>

</div>





    <div class="maincontent">
 
<h1 class="filter" style="padding: 40px;font-family: fantasy;">LEADS GPT</h1>
<div class="row">
    <div class="column">
      <div class="card">
        <h4 class="heads">Basic Filters</h4>
        <form>
            <br>
            <div class="first">
            

            <div class="sk">
            
    

              
              <label for="TimeZone">Timezone:</label>
              <select id="TimeZone" class="selectpicker" multiple data-live-search="true" >
                <option value="C">Central time zone</option>
                <option value="E">Eastern time zone</option>
                <option value="H">Hawaii time zone</option>
                <option value="M">Mountain time zone</option>
                <option value="P">Pacific time zone</option>
                <!-- Add more options here -->
              </select>
              <br>

             

            

              <label for="PersonAgeCode">Age:</label>
              <select id="PersonAgeCode" class="selectpicker" multiple data-live-search="true" >
                <option value="1">between 19 to 24</option>
                <option value="2">between 25 to 29</option>
                <option value="3">between 30 to 37</option>
                <option value="4">between 38 to 50 </option>
               
                <!-- Add more options here -->
              </select>
              <br>

              <label for="zipcode">Zip Code:</label>
              <input type="number" class="form-control" id="zipcode" placeholder="Type here">
              <br>

              
              
              <label for="PersonGender">Gender:</label>
              <select id="PersonGender" class="selectpicker"  multiple data-live-search="true" >
                <option value="M">Male</option>
                <option value="F">Female</option>
              
                <!-- Add more options here -->
              </select>
      
          </div>
        
            </div>    
           
        </form>
      </div>
    </div>
   
    <div class="column">
      <div class="card" style="border: 2px solid rgb(250, 8, 250); border-top: 0;">
        <h4 class="head">Advance Filters</h4>
        <form>
            <br>

            <div class="first">
         


            <div class="sk">
              
              <div class="container mt-4">
                <div class="input-group mb-3">
                  <div class="input-group-prepend">
                   
                    <button style="background: black;color: white;" class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#categoryInputFields" aria-expanded="false" aria-controls="categoryInputFields">
                      <i class="fa fa-arrow-down"></i>
                      <label for="cityFilter">Demographics</label>
                    </button>
                  </div>
                </div>
                <br>
              
                <div class="collapse" id="categoryInputFields">
                  <div class="input-group mt-2">
                    <label for="PersonEducation">education:</label>
                   
                    <select id="PersonEducation" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">completed high school</option>
                      <option value="B">completed college</option>
                      <option value="C">complete graduate school</option>
                      <option value="D">attended vocational/technical</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
                  <div class="input-group mt-2">
                    <label for="CreditRating">Credit Ranking</label>
                   
                    <select id="CreditRating" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">800+</option>
                      <option value="B">under 750 - 799</option>
                      <option value="C">under 700 - 749</option>
                      <option value="D">under 650 - 699</option>
                      <option value="E">under 600 - 649</option>
                      <option value="F">under 550 - 599</option>
                      <option value="G">under 500 - 549</option>
                      <option value="H">under 499</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
             <!----    <div class="input-group mt-2">
                    <label for="Community Reinvestment Act income Classification Code">Income:</label>
                   
                    <select id="Community Reinvestment Act income Classification Code" class="selectpicker" multiple data-live-search="true" >
                      <option value="1">low income</option>
                      <option value="2">moderate income</option>
                      <option value="3">middle income</option>
                      <option value="4">high income</option>
                      Add more options here 
                    </select>
                  </div>
                  <br> -->

                  <div class="input-group mt-2">
                    <label for="EstimatedIncomeCode">Estimated income:</label>
                   
              <select id="EstimatedIncomeCode" class="selectpicker" multiple data-live-search="true" >
                <option value="A">under $10,000</option>
                <option value="B">under $10,000 - $14,000</option>
                <option value="C">under $15,000 - $19,000</option>
                <option value="D">under $20,000 - $24,999</option>
                <option value="E">under $25,999 - $29,999</option>
                <option value="F">under $30,000 - $34,999</option>
                <option value="G">under $35,000 - $39,999</option>
                <option value="H">under $40,000 - $44,999</option>
                <option value="I">under $45,000 - $49,000 </option>
                <option value="J">under $55,000 - $59,000</option>
                <option value="K">under $60,000 - $64,999</option>
                <option value="L">under $65,000 - $74,000</option>
                <!-- Add more options here -->
              </select>
                  </div>
                  <br>
                   <div class="input-group mt-2">
                    <label for="occupationgroup">Occupation group:</label>
                   
                    <select id="occupationgroup" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">professional/technician</option>
                      <option value="B">administration / managerial</option>
                      <option value="C">sales/service</option>
                      <option value="D">clerial/white collar</option>
                      <option value="F">student</option>
                      <option value="H">retired</option>
                      <option value="I">farmer</option>
                      <option value="J">military</option>
                      <option value="Z">other</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
            <!--       <div class="input-group mt-2">
                    <label for="OCCUPATION">Person occupation:</label>
                   
                    <select id="OCCUPATION" class="selectpicker" multiple data-live-search="true" >
                      <option value="A197">navy credit unit trade</option>
                      <option value="A198">army credit unit trade</option>
                      <option value="A199">armed forces</option>
                      <option value="C120">police troopers</option>
                      <option value="C121">mail/postmaster</option>
                      <option value="C123">judge/refree</option>
                      <option value="C124">firefighter</option>
                      <option value="C125">court reporter</option>
                       Add more options here 
                    </select>
                  </div>
                  <br> -->

                  <div class="input-group mt-2">
                    <label for="ethnicgroup">Ethnic group:</label>
                   
                    <select id="ethnicgroup" class="selectpicker" multiple data-live-search="true" >
                      <option value="A">southeast asian</option>
                      <option value="C">central and west east asian</option>
                      <option value="I">middle eastern</option>
                      <option value="J">jewish</option>
                      <option value="N">native american</option>
                      <option value="O">far eastern</option>
                      <option value="P">polynesian</option>
                      <option value="S">scandinavian</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

                  <div class="input-group mt-2">
                    <label for="ethniccode">Ethnic code:</label>
                   
                    <select id="ethniccode" class="selectpicker" multiple data-live-search="true" >
                      <option value="C1">afhgan</option>
                      <option value="C2">bangladesh</option>
                      <option value="C3">indian</option>
                      <option value="C4">pakistani</option>
                      <option value="C6">nepalese</option>
                      <option value="C7">telugan</option>
                      <option value="D0">algerian</option>
                      <option value="D3">egyptian</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

             <!--     <div class="input-group mt-2">
                    <label for="cityFilter">Lifestyle:</label>
                   
                    <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                      <option value="India">exercise - arobic</option>
                      <option value="New York">exercise - enthauthiast</option>
                      <option value="Africa">exercise - health grouping</option>
                      <option value="Africa">exercise - running jogging</option>
                      <option value="Africa">exercise - walking</option>
                    
                     
                    </select>
                  </div>
                  <br>-->

              <!----   <div class="input-group mt-2">
                    <label for="cityFilter">Living:</label>
                   
                    <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                      <option value="India">home living</option>
                      <option value="New York">do it yourself living</option>
                      <option value="Africa">sporty living</option>
                      <option value="Africa">upscale living</option>
                      <option value="Africa">broader living</option>
                      <option value="Africa">culturalartistic living</option>
                      <option value="Africa">high tech living</option>
                      <option value="Africa">common living</option>
                      
                    </select>
                  </div>
                  <br>-->

              <!----   <div class="input-group mt-2">
                    <label for="cityFilter">Bank cards:</label>
                   
                    <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                      <option value="India">presence of credit card</option>
                      <option value="New York">presence of gold or credit card</option>
                      <option value="Africa">presence of platinum credit card</option>
                      <option value="Africa">presence of upscale credit card</option>
                      <option value="Africa">presence of bank card</option>
                      
               
                    </select>
                  </div>
                  <br>-->

                  <div class="input-group mt-2">
                    <label for="LengthofResidenceCode">Length of residence:</label>
                   
                    <select id="LengthofResidenceCode" class="selectpicker" multiple data-live-search="true" >
                      <option value="0">under one year</option>
                      <option value="1">1 years</option>
                      <option value="2">2 years</option>
                      <option value="3">3 years</option>
                      <option value="4">4 years</option>
                      <option value="5">5 years</option>
                      <option value="6">6 years</option>
                      <option value="7">7 years</option>
                      <option value="8">8 years</option>
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

                  <div class="input-group mt-2">
                    <label for="HomeownerProbabilityModel">Home owner /rental:</label>
                   
                    <select id="HomeownerProbabilityModel" class="selectpicker" multiple data-live-search="true" >
                    
                      <option value="H">homeowners</option>
                      <option value="R">renters</option>
                      
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>

                  <div class="input-group mt-2">
                    <label for="HomePurchasePriceCode">Home Purchase Price</label>
                   
                    <select id="HomePurchasePriceCode" class="selectpicker" multiple data-live-search="true" >
                      <option value="1">home purchase price under $75k</option>
                      <option value="2">home purchase price  $76k - $125</option>
                      <option value="3">home purchase price  $126k - $175</option>
                      <option value="4">home purchase price $176k - $250k</option>
                      <option value="5">home purchase price  $251k - $750k</option>
                      <option value="6">home purchase price  $751k - $999k</option>
                      
                      <!-- Add more options here -->
                    </select>
                  </div>
                  <br>
                 
                 

              <!----    <div class="input group mt-2">
                    <label for="inputField">Home build year:</label>
                    <input style="width:fit-content;" type="number" class="form-control" id="inputField" placeholder="Type here">
                    </div>
                    <br>-->

                    <div class="input-group mt-2">
                      <label for="EstimatedCurrentHomeValueCode">Estimated current home value:</label>
                     
                      <select id="EstimatedCurrentHomeValueCode" class="selectpicker" multiple data-live-search="true" >
                        <option value="A">$1000 to $24,000</option>
                        <option value="B">$40,000 to $74,000</option>
                        <option value="C">$90,000 to $104,000</option>
                        <option value="D">$110,000 to $150,000</option>
                        <option value="E">$200,000 to $400,000</option>
                      
                        <!-- Add more options here -->
                      </select>
                    </div>
                    <br>

               <!----     <div class="input-group mt-2">
                      <label for="selectOption">Homeswimimg pool:</label>
                      <select id="selectOption" class="form-control">
                        <option value="option1">swimming pool present</option>
                        <option value="option2">no swimming pool present</option>
                
                      </select>
                    </div>
                    <br>-->

                    <div class="input-group mt-2">
                      <label for="PoliticalContributor">Political contributor:</label>
                     
                      <select id="PoliticalContributor" class="selectpicker" multiple data-live-search="true" >
                        <option value="D">democratic contributor</option>
                        <option value="R">replublic contributor</option>
                        <option value="P">political contributor</option>
                        <option value="U">unknown</option>
                      
                        <!-- Add more options here -->
                      </select>
                    </div>
                    <br>


                  
                  <!-- Add more input fields as needed -->
                </div>
              </div>

          </div>



          <div class="container mt-4">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
               
                <button style="background: black;color: white;"   class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#categorynputFields" aria-expanded="false" aria-controls="categoryInputFields">
                  <i class="fa fa-arrow-down"></i>
                  <label for="cityFilter">Interest</label>
                </button>
              </div>
            </div>
            <br>
          
            <div class="collapse" id="categorynputFields">
              <div class="input-group mt-2">
                <label for="numberofchildren">Number of children:</label>
               
                <select id="numberofchildren" class="selectpicker" multiple data-live-search="true" >
                  <option value="0">no children</option>
                  <option value="1">1 children</option>
                  <option value="2">2 children</option>
                  <option value="5">upto 5 children</option>
                  <option value="8">more than 8 children</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
              <div class="input-group mt-2">
                <label for="NumberOfAdults">Number of adults</label>
               
                <select id="NumberOfAdults" class="selectpicker" multiple data-live-search="true" >
                  <option value="1">1 adults</option>
                  <option value="2"> 2 adults</option>
                  <option value="3">3 adults</option>
                  <option value="4">4 adults</option>
                  <option value="5">5 adults</option>
                  <option value="6">6+ adults</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
              <div class="input-group mt-2">
                <label for="PersonMaritalStatus">Martial status:</label>
                
                <select id="PersonMaritalStatus" class="selectpicker" multiple data-live-search="true" >
                  <option value="M">married</option>
                  <option value="S">single</option>
                  <option value="A">inferred married</option>
                  <option value="B">inferred single</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
              <div class="input-group mt-2">
                <label for="dwellingType">Dwelling type:</label>
               
                <select id="dwellingType" class="selectpicker" multiple data-live-search="true" >
                  <option value="M">multi family dwelling unit</option>
                  <option value="S">single family dwelling unit</option>
                 
                  <!-- Add more options here -->
                </select>
              </div>
              <br>

              <div class="input-group mt-2">
                <label for="Pets">Pets:</label>
               
                <select id="Pets" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">pets</option>
                  
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
              <div class="input-group mt-2">
                <label for="NumberOfPersonsInLivingUnit">Number of persons:</label>
               
          <select id="NumberOfPersonsInLivingUnit" class="selectpicker" multiple data-live-search="true" >
            <option value="1">1 person</option>
            <option value="2">2 persons</option>
            <option value="4">4 persons</option>
            <option value="5">5+ persons</option>
            <!-- Add more options here -->
          </select>
              </div>
              <!-- Add more input fields as needed -->
            </div>
          </div>

          <div class="container mt-4">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
               
                <button style="background: black;color: white;"  class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#cagorynputFields" aria-expanded="false" aria-controls="categoryInputFields">
                  <i class="fa fa-arrow-down"></i>
                  <label for="cityFilter">Behaviour</label>
                </button>
              </div>
            </div>
            <br>
          
           <div class="collapse" id="cagorynputFields">
            <!---- <div class="input-group mt-2">
                <label for="cityFilter">digital activities:</label>
               
                <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                  <option value="India">computer owner</option>
                  <option value="New York">electronic/computers gaming</option>
                 
                 
                </select>
              </div>
              <br>-->
              <div class="input-group mt-2">
                <label for="Gaming">Games</label>
               
                <select id="Gaming" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">gaming</option>
        
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
           <!----   <div class="input-group mt-2">
                <label for="cityFilter">Donations:</label>
               
                <select id="cityFilter" class="selectpicker" multiple data-live-search="true" >
                  <option value="India">animal welfare charitable donations</option>
                  <option value="New York">arts/culture welfare charitable donations</option>
                  <option value="Africa">children charitable donations</option>
                  <option value="Africa">enviromental issues charitable donations</option>
                  <option value="New York">international aids charitable donations</option>
                  <option value="Africa">political charitable donations</option>
                  <option value="Africa">veteran's charitable donations</option>
                 
                </select>
              </div>
              <br>-->
          
    
             
            
              <!-- Add more input fields as needed -->
            </div>
          </div>
    
          <div class="container mt-4">
            <div class="input-group mb-3">
              <div class="input-group-prepend">
               
                <button style="background: black;color: white;"   class="btn btn-outline-secondary" type="button" data-toggle="collapse" data-target="#gorynputFields" aria-expanded="false" aria-controls="categoryInputFields">
                  <i class="fa fa-arrow-down"></i>
                  <label for="religioncode">Religion</label>
                </button>
              </div>
            </div>
            <br>
          
            <div class="collapse" id="gorynputFields">
              <div class="input-group mt-2">
                <label for="religioncode">religion:</label>
               
          <select id="religioncode" class="selectpicker" multiple data-live-search="true" >
            <option value="H">hindu</option>
            <option value="B">buddiast</option>
            <option value="A">catholic</option>
            <option value="G">greek orthodox</option>
            <option value="I">islamic</option>
            <option value="J">jewish</option>
            <option value="S">siku</option>
            <option value="L">lutheran</option>
            <!-- Add more options here -->
          </select>
              </div>
              <br>
             
              <br>
              <div class="input-group mt-2">
                <label for="ReligiousMagazine">Religious magazine:</label>
               
                <select id="ReligiousMagazine" class="selectpicker" multiple data-live-search="true" >
                  <option value="Y">Yes</option>
                  <!-- Add more options here -->
                </select>
              </div>
              <br>
          
        
             
            
              <!-- Add more input fields as needed -->
            </div>
          </div>

      </div>

<br>


      <div class="s">
        <label for="limit">Limit:</label>
        <input type="number" id="limit" name="limit" value="10" min="1" max="100">
        <button type="button" onclick="increaseLimit()">+</button>
        <button type="button" onclick="decreaseLimit()">-</button>
        </div>
    </div>
          
              
    

  </div>



 

  <button style="display: flex; align-items: center; justify-content: center;padding: 10px 30px 10px 30px; font-size: 30px;margin: 50px;background: linear-gradient(45deg, #2212de, red);border: none;color: white; border-radius: 5px;" type="button" onclick="runQuery()">Run Query</button>
       
        </form>

      </div>
    </div>
  </div>
 
  </div>

  <div id="results"></div>





<script>
    /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
function myFunction() {
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
}
</script>

<script src="https://sdk.amazonaws.com/js/aws-sdk-2.996.0.min.js"></script>
	<script>
      function increaseLimit() {
    var limitField = document.getElementById('limit');
    limitField.value = parseInt(limitField.value) + 1;
}

function decreaseLimit() {
    var limitField = document.getElementById('limit');
    limitField.value = parseInt(limitField.value) - 1;
    if (limitField.value < 1) {
        limitField.value = 1;
    }
}
		
	




  function runQuery() {
    var conditions = [];
var selectedColumns = [
  { name: 'PersonAgeCode', elementId: 'PersonAgeCode', dataType: 'number' },
  { name: 'zipcode', elementId: 'zipcode', dataType: 'number' },
  { name: 'ReligiousMagazine', elementId: 'ReligiousMagazine', dataType: 'string' },
  // ... (other columns)
];

selectedColumns.forEach(column => {
  var element = document.getElementById(column.elementId);
  if (element && element.options && element.options.length > 0 && element.options[0].selected) {
    var selectedValues = Array.from(element.options)
      .filter(option => option.selected)
      .map(option => option.value);
    var condition;
    if (column.dataType === 'string') {
      condition = `${column.name} IN ('${selectedValues.join("','")}')`;
    } else {
      condition = `${column.name} IN (${selectedValues.join(',')})`;
    }
    conditions.push(condition);
  }
});

var whereClause = '';
if (conditions.length > 0) {
  whereClause = 'WHERE ' + conditions.join(' AND ');
}

var columns = '*';
if (selectedColumns.length > 0) {
  columns = selectedColumns.map(column => column.name).join(',');
}

var selectedZipcode = document.getElementById('zipcode').value;
var limit = document.getElementById('limit').value;

var query = `
  SELECT ${columns}
  FROM "smallcons"."consumersmall2"
  ${whereClause}
  AND zipcode = ${selectedZipcode}
  LIMIT ${limit};
`;

  // Execute the query...


  document.getElementById('query').value = query;

  // Set up AWS credentials
  AWS.config.region = 'us-east-1';
		AWS.config.credentials = new AWS.Credentials('AKIAQ6FXL22LTJRLMI4C', 'T2luxgWfcGvnHB/EizBGFBeRlgJIUQU3tCluwVew');

  var params = {
    QueryString: query,
    ResultConfiguration: {
      OutputLocation: 's3://consumer-athena/query-output/'
    }
  };
























            var athena = new AWS.Athena();

            athena.startQueryExecution(params, function(err, data) {
                if (err) {
                    console.log(err, err.stack);
                } else {
                    checkQueryStatus(data.QueryExecutionId);
                }
            });
        }

        function checkQueryStatus(queryId) {
            var athena = new AWS.Athena();

            athena.getQueryExecution({ QueryExecutionId: queryId }, function(err, data) {
                if (err) {
                    console.log(err, err.stack);
                } else {
                    var status = data.QueryExecution.Status.State;
                    if (status == 'QUEUED' || status == 'RUNNING') {
                        setTimeout(function() { checkQueryStatus(queryId); }, 5000);
                    } else if (status == 'SUCCEEDED') {
                        getQueryResults(queryId);
                    } else {
                        console.log('Query failed: ' + data.QueryExecution.Status.StateChangeReason);
                    }
                }
            });
        }

        function getQueryResults(queryId) {
    var athena = new AWS.Athena();

    athena.getQueryResults({ QueryExecutionId: queryId }, function(err, data) {
        if (err) {
            console.log(err, err.stack);
        } else {
            var results = document.getElementById('results');
            results.innerHTML = '';

            if (data.ResultSet.Rows.length == 0) {
                results.innerHTML = '<p>No results found.</p>';
                return;
            }

            var table = document.createElement('table');

            // Create table header row
            var headerRow = document.createElement('tr');
            data.ResultSet.ResultSetMetadata.ColumnInfo.forEach(function(column) {
                var headerCell = document.createElement('th');
                headerCell.appendChild(document.createTextNode(column.Name));
                headerRow.appendChild(headerCell);
            });
            table.appendChild(headerRow);

            // Create table data rows
            data.ResultSet.Rows.forEach(function(row) {
                var dataRow = document.createElement('tr');
                row.Data.forEach(function(cell) {
                    var dataCell = document.createElement('td');
                    dataCell.appendChild(document.createTextNode(cell.VarCharValue));
                    dataRow.appendChild(dataCell);
                });
                table.appendChild(dataRow);
            });

            results.appendChild(table);
        }
    });
}

</script>
    </body>
</html>